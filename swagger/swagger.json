{
  "openapi": "3.0.3",
  "info": {
    "title": "PKT-TodoList API",
    "description": "사용자 인증 기반의 개인 할일 관리 애플리케이션 API입니다. JWT 인증을 통해 할일 생성, 조회, 수정, 삭제 및 국경일 관리 기능을 제공합니다.",
    "version": "1.0.0",
    "contact": {
      "name": "PKT-TodoList Team",
      "email": "admin@PKT-todolist.com"
    },
    "license": {
      "name": "MIT",
      "url": "https://opensource.org/licenses/MIT"
    }
  },
  "servers": [
    {
      "url": "http://localhost:3000/api",
      "description": "로컬 개발 서버"
    },
    {
      "url": "https://pkt-todolist.vercel.app/api",
      "description": "프로덕션 서버"
    }
  ],
  "tags": [
    {
      "name": "Auth",
      "description": "인증 관련 API (회원가입, 로그인, 토큰 갱신, 로그아웃)"
    },
    {
      "name": "Todos",
      "description": "할일 관리 API (CRUD, 완료, 복원)"
    },
    {
      "name": "Trash",
      "description": "휴지통 관리 API (조회, 영구 삭제)"
    },
    {
      "name": "Holidays",
      "description": "국경일 관리 API (조회, 추가, 수정)"
    },
    {
      "name": "Users",
      "description": "사용자 프로필 관리 API"
    }
  ],
  "paths": {
    "/auth/register": {
      "post": {
        "tags": ["Auth"],
        "summary": "회원가입",
        "description": "이메일, 비밀번호, 사용자 이름으로 신규 계정을 생성합니다.",
        "operationId": "register",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterRequest"
              },
              "example": {
                "email": "user@example.com",
                "password": "password123",
                "username": "홍길동"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "회원가입 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RegisterResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "userId": "550e8400-e29b-41d4-a716-446655440000",
                    "email": "user@example.com",
                    "username": "홍길동",
                    "role": "user"
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "409": {
            "description": "이메일 중복",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "EMAIL_EXISTS",
                    "message": "이미 사용 중인 이메일입니다"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/auth/login": {
      "post": {
        "tags": ["Auth"],
        "summary": "로그인",
        "description": "이메일/비밀번호 인증 후 JWT 토큰을 발급합니다.",
        "operationId": "login",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              },
              "example": {
                "email": "user@example.com",
                "password": "password123"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "로그인 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
                    "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
                    "user": {
                      "userId": "550e8400-e29b-41d4-a716-446655440000",
                      "email": "user@example.com",
                      "username": "홍길동",
                      "role": "user"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "인증 실패",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "UNAUTHORIZED",
                    "message": "이메일 또는 비밀번호가 올바르지 않습니다"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/auth/refresh": {
      "post": {
        "tags": ["Auth"],
        "summary": "토큰 갱신",
        "description": "Refresh Token을 사용하여 새로운 Access Token을 발급합니다.",
        "operationId": "refreshToken",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RefreshTokenRequest"
              },
              "example": {
                "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "토큰 갱신 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RefreshTokenResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          }
        }
      }
    },
    "/auth/logout": {
      "post": {
        "tags": ["Auth"],
        "summary": "로그아웃",
        "description": "클라이언트 토큰을 삭제합니다.",
        "operationId": "logout",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "로그아웃 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                },
                "example": {
                  "success": true,
                  "message": "로그아웃 되었습니다"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          }
        }
      }
    },
    "/todos": {
      "get": {
        "tags": ["Todos"],
        "summary": "할일 목록 조회",
        "description": "로그인한 사용자의 할일 목록을 조회합니다. 상태, 검색어, 정렬 기준으로 필터링 가능합니다.",
        "operationId": "getTodos",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "description": "할일 상태 필터",
            "required": false,
            "schema": {
              "type": "string",
              "enum": ["active", "completed", "deleted"]
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "제목/내용 검색어",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sortBy",
            "in": "query",
            "description": "정렬 기준",
            "required": false,
            "schema": {
              "type": "string",
              "enum": ["dueDate", "createdAt"],
              "default": "createdAt"
            }
          },
          {
            "name": "order",
            "in": "query",
            "description": "정렬 순서",
            "required": false,
            "schema": {
              "type": "string",
              "enum": ["asc", "desc"],
              "default": "desc"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "할일 목록 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TodoListResponse"
                },
                "example": {
                  "success": true,
                  "data": [
                    {
                      "todoId": "550e8400-e29b-41d4-a716-446655440000",
                      "title": "프로젝트 마감",
                      "content": "PRD 작성 완료하기",
                      "startDate": "2025-11-25",
                      "dueDate": "2025-11-28",
                      "status": "active",
                      "isCompleted": false,
                      "createdAt": "2025-11-25T10:00:00Z",
                      "updatedAt": "2025-11-25T10:00:00Z"
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          }
        }
      },
      "post": {
        "tags": ["Todos"],
        "summary": "할일 생성",
        "description": "새로운 할일을 생성합니다.",
        "operationId": "createTodo",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTodoRequest"
              },
              "example": {
                "title": "프로젝트 마감",
                "content": "PRD 작성 완료하기",
                "startDate": "2025-11-25",
                "dueDate": "2025-11-28"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "할일 생성 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TodoResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "todoId": "550e8400-e29b-41d4-a716-446655440000",
                    "title": "프로젝트 마감",
                    "content": "PRD 작성 완료하기",
                    "startDate": "2025-11-25",
                    "dueDate": "2025-11-28",
                    "status": "active",
                    "isCompleted": false
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          }
        }
      }
    },
    "/todos/{id}": {
      "get": {
        "tags": ["Todos"],
        "summary": "할일 상세 조회",
        "description": "특정 할일의 상세 정보를 조회합니다.",
        "operationId": "getTodoById",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "할일 ID (UUID)",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "할일 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TodoResponse"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "put": {
        "tags": ["Todos"],
        "summary": "할일 수정",
        "description": "기존 할일의 정보를 수정합니다.",
        "operationId": "updateTodo",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "할일 ID (UUID)",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateTodoRequest"
              },
              "example": {
                "title": "프로젝트 마감 (수정)",
                "content": "PRD 작성 및 검토 완료",
                "startDate": "2025-11-25",
                "dueDate": "2025-11-29"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "할일 수정 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TodoResponse"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "delete": {
        "tags": ["Todos"],
        "summary": "할일 삭제 (휴지통 이동)",
        "description": "할일을 휴지통으로 이동합니다 (소프트 삭제).",
        "operationId": "deleteTodo",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "할일 ID (UUID)",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "할일 삭제 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "할일이 휴지통으로 이동되었습니다"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "todoId": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "status": {
                          "type": "string",
                          "example": "deleted"
                        },
                        "deletedAt": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/todos/{id}/complete": {
      "patch": {
        "tags": ["Todos"],
        "summary": "할일 완료",
        "description": "할일을 완료 상태로 변경합니다.",
        "operationId": "completeTodo",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "할일 ID (UUID)",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "할일 완료 처리 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TodoCompleteResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "todoId": "550e8400-e29b-41d4-a716-446655440000",
                    "status": "completed",
                    "isCompleted": true
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/todos/{id}/restore": {
      "patch": {
        "tags": ["Todos"],
        "summary": "할일 복원",
        "description": "휴지통의 할일을 활성 상태로 복원합니다.",
        "operationId": "restoreTodo",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "할일 ID (UUID)",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "할일 복원 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "할일이 복원되었습니다"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "todoId": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "status": {
                          "type": "string",
                          "example": "active"
                        },
                        "deletedAt": {
                          "type": "string",
                          "nullable": true,
                          "example": null
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/trash": {
      "get": {
        "tags": ["Trash"],
        "summary": "휴지통 조회",
        "description": "삭제된 할일 목록을 조회합니다.",
        "operationId": "getTrash",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "휴지통 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Todo"
                      }
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": [
                    {
                      "todoId": "550e8400-e29b-41d4-a716-446655440000",
                      "title": "삭제된 할일",
                      "status": "deleted",
                      "deletedAt": "2025-11-25T15:00:00Z"
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          }
        }
      }
    },
    "/trash/{id}": {
      "delete": {
        "tags": ["Trash"],
        "summary": "영구 삭제",
        "description": "휴지통의 할일을 데이터베이스에서 완전히 삭제합니다.",
        "operationId": "permanentDelete",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "할일 ID (UUID)",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "영구 삭제 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                },
                "example": {
                  "success": true,
                  "message": "할일이 영구적으로 삭제되었습니다"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 (활성 상태의 할일은 영구 삭제 불가)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/holidays": {
      "get": {
        "tags": ["Holidays"],
        "summary": "국경일 조회",
        "description": "국경일 목록을 조회합니다. 연도 및 월로 필터링 가능합니다.",
        "operationId": "getHolidays",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "year",
            "in": "query",
            "description": "연도 (기본값: 현재 연도)",
            "required": false,
            "schema": {
              "type": "integer",
              "example": 2025
            }
          },
          {
            "name": "month",
            "in": "query",
            "description": "월 (1-12)",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 12
            }
          }
        ],
        "responses": {
          "200": {
            "description": "국경일 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HolidayListResponse"
                },
                "example": {
                  "success": true,
                  "data": [
                    {
                      "holidayId": "550e8400-e29b-41d4-a716-446655440000",
                      "title": "신정",
                      "date": "2025-01-01",
                      "description": "새해 첫날",
                      "isRecurring": true
                    },
                    {
                      "holidayId": "550e8400-e29b-41d4-a716-446655440001",
                      "title": "설날",
                      "date": "2025-01-29",
                      "description": "음력 1월 1일",
                      "isRecurring": true
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          }
        }
      },
      "post": {
        "tags": ["Holidays"],
        "summary": "국경일 추가 (관리자 전용)",
        "description": "새로운 국경일을 추가합니다. 관리자 권한이 필요합니다.",
        "operationId": "createHoliday",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "X-Admin-Role",
            "in": "header",
            "description": "관리자 권한 확인을 위한 헤더",
            "required": true,
            "schema": {
              "type": "string",
              "example": "required"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateHolidayRequest"
              },
              "example": {
                "title": "광복절",
                "date": "2025-08-15",
                "description": "대한민국 독립 기념일",
                "isRecurring": true
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "국경일 추가 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HolidayResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "holidayId": "550e8400-e29b-41d4-a716-446655440000",
                    "title": "광복절",
                    "date": "2025-08-15",
                    "isRecurring": true
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/AdminRequired"
          }
        }
      }
    },
    "/holidays/{id}": {
      "put": {
        "tags": ["Holidays"],
        "summary": "국경일 수정 (관리자 전용)",
        "description": "기존 국경일 정보를 수정합니다. 관리자 권한이 필요합니다.",
        "operationId": "updateHoliday",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "국경일 ID (UUID)",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "X-Admin-Role",
            "in": "header",
            "description": "관리자 권한 확인을 위한 헤더",
            "required": true,
            "schema": {
              "type": "string",
              "example": "required"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateHolidayRequest"
              },
              "example": {
                "title": "광복절",
                "date": "2025-08-15",
                "description": "수정된 설명"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "국경일 수정 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HolidayResponse"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/AdminRequired"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/users/me": {
      "get": {
        "tags": ["Users"],
        "summary": "현재 사용자 프로필 조회",
        "description": "로그인한 사용자의 프로필 정보를 조회합니다.",
        "operationId": "getMyProfile",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "프로필 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfileResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "userId": "550e8400-e29b-41d4-a716-446655440000",
                    "email": "user@example.com",
                    "username": "홍길동",
                    "role": "user",
                    "createdAt": "2025-11-01T00:00:00Z"
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          }
        }
      },
      "patch": {
        "tags": ["Users"],
        "summary": "현재 사용자 프로필 수정",
        "description": "로그인한 사용자의 프로필 정보를 수정합니다.",
        "operationId": "updateMyProfile",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateProfileRequest"
              },
              "example": {
                "username": "새이름",
                "password": "newpassword123"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "프로필 수정 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "userId": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "username": {
                          "type": "string",
                          "example": "새이름"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "BearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "JWT 토큰 인증. 로그인 API를 통해 발급받은 Access Token을 사용합니다."
      }
    },
    "schemas": {
      "User": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string",
            "format": "uuid",
            "description": "사용자 고유 ID"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "이메일 주소"
          },
          "username": {
            "type": "string",
            "description": "사용자 이름"
          },
          "role": {
            "type": "string",
            "enum": ["user", "admin"],
            "description": "사용자 역할"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "가입일시"
          }
        }
      },
      "Todo": {
        "type": "object",
        "properties": {
          "todoId": {
            "type": "string",
            "format": "uuid",
            "description": "할일 고유 ID"
          },
          "userId": {
            "type": "string",
            "format": "uuid",
            "description": "소유자 ID"
          },
          "title": {
            "type": "string",
            "maxLength": 200,
            "description": "할일 제목"
          },
          "content": {
            "type": "string",
            "nullable": true,
            "description": "할일 상세 내용"
          },
          "startDate": {
            "type": "string",
            "format": "date",
            "nullable": true,
            "description": "시작일"
          },
          "dueDate": {
            "type": "string",
            "format": "date",
            "nullable": true,
            "description": "만료일"
          },
          "status": {
            "type": "string",
            "enum": ["active", "completed", "deleted"],
            "description": "할일 상태"
          },
          "isCompleted": {
            "type": "boolean",
            "description": "완료 여부"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "생성일시"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "최종 수정일시"
          },
          "deletedAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true,
            "description": "삭제일시 (소프트 삭제)"
          }
        },
        "required": ["todoId", "userId", "title", "status", "isCompleted"]
      },
      "Holiday": {
        "type": "object",
        "properties": {
          "holidayId": {
            "type": "string",
            "format": "uuid",
            "description": "국경일 고유 ID"
          },
          "title": {
            "type": "string",
            "maxLength": 100,
            "description": "국경일 이름"
          },
          "date": {
            "type": "string",
            "format": "date",
            "description": "국경일 날짜"
          },
          "description": {
            "type": "string",
            "nullable": true,
            "description": "국경일 설명"
          },
          "isRecurring": {
            "type": "boolean",
            "description": "매년 반복 여부"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "생성일시"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "최종 수정일시"
          }
        },
        "required": ["holidayId", "title", "date", "isRecurring"]
      },
      "RegisterRequest": {
        "type": "object",
        "required": ["email", "password", "username"],
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "description": "이메일 주소"
          },
          "password": {
            "type": "string",
            "minLength": 8,
            "description": "비밀번호 (최소 8자)"
          },
          "username": {
            "type": "string",
            "minLength": 2,
            "maxLength": 100,
            "description": "사용자 이름"
          }
        }
      },
      "RegisterResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/User"
          }
        }
      },
      "LoginRequest": {
        "type": "object",
        "required": ["email", "password"],
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "description": "이메일 주소"
          },
          "password": {
            "type": "string",
            "description": "비밀번호"
          }
        }
      },
      "LoginResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "accessToken": {
                "type": "string",
                "description": "Access Token (유효기간: 15분)"
              },
              "refreshToken": {
                "type": "string",
                "description": "Refresh Token (유효기간: 7일)"
              },
              "user": {
                "$ref": "#/components/schemas/User"
              }
            }
          }
        }
      },
      "RefreshTokenRequest": {
        "type": "object",
        "required": ["refreshToken"],
        "properties": {
          "refreshToken": {
            "type": "string",
            "description": "Refresh Token"
          }
        }
      },
      "RefreshTokenResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "accessToken": {
                "type": "string",
                "description": "새로운 Access Token"
              }
            }
          }
        }
      },
      "CreateTodoRequest": {
        "type": "object",
        "required": ["title"],
        "properties": {
          "title": {
            "type": "string",
            "maxLength": 200,
            "description": "할일 제목"
          },
          "content": {
            "type": "string",
            "description": "할일 상세 내용"
          },
          "startDate": {
            "type": "string",
            "format": "date",
            "description": "시작일"
          },
          "dueDate": {
            "type": "string",
            "format": "date",
            "description": "만료일 (시작일 이후여야 함)"
          }
        }
      },
      "UpdateTodoRequest": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "maxLength": 200,
            "description": "할일 제목"
          },
          "content": {
            "type": "string",
            "description": "할일 상세 내용"
          },
          "startDate": {
            "type": "string",
            "format": "date",
            "description": "시작일"
          },
          "dueDate": {
            "type": "string",
            "format": "date",
            "description": "만료일 (시작일 이후여야 함)"
          }
        }
      },
      "TodoResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Todo"
          }
        }
      },
      "TodoListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Todo"
            }
          }
        }
      },
      "TodoCompleteResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "todoId": {
                "type": "string",
                "format": "uuid"
              },
              "status": {
                "type": "string",
                "example": "completed"
              },
              "isCompleted": {
                "type": "boolean",
                "example": true
              }
            }
          }
        }
      },
      "CreateHolidayRequest": {
        "type": "object",
        "required": ["title", "date"],
        "properties": {
          "title": {
            "type": "string",
            "maxLength": 100,
            "description": "국경일 이름"
          },
          "date": {
            "type": "string",
            "format": "date",
            "description": "국경일 날짜"
          },
          "description": {
            "type": "string",
            "description": "국경일 설명"
          },
          "isRecurring": {
            "type": "boolean",
            "default": true,
            "description": "매년 반복 여부"
          }
        }
      },
      "UpdateHolidayRequest": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "maxLength": 100,
            "description": "국경일 이름"
          },
          "date": {
            "type": "string",
            "format": "date",
            "description": "국경일 날짜"
          },
          "description": {
            "type": "string",
            "description": "국경일 설명"
          },
          "isRecurring": {
            "type": "boolean",
            "description": "매년 반복 여부"
          }
        }
      },
      "HolidayResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Holiday"
          }
        }
      },
      "HolidayListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Holiday"
            }
          }
        }
      },
      "UpdateProfileRequest": {
        "type": "object",
        "properties": {
          "username": {
            "type": "string",
            "minLength": 2,
            "maxLength": 100,
            "description": "사용자 이름"
          },
          "password": {
            "type": "string",
            "minLength": 8,
            "description": "새 비밀번호 (최소 8자)"
          }
        }
      },
      "UserProfileResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/User"
          }
        }
      },
      "SuccessResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "message": {
            "type": "string",
            "description": "성공 메시지"
          }
        }
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": false
          },
          "error": {
            "type": "object",
            "properties": {
              "code": {
                "type": "string",
                "description": "에러 코드",
                "enum": [
                  "BAD_REQUEST",
                  "INVALID_DATE_RANGE",
                  "TITLE_REQUIRED",
                  "UNAUTHORIZED",
                  "TOKEN_EXPIRED",
                  "INVALID_TOKEN",
                  "FORBIDDEN",
                  "ADMIN_REQUIRED",
                  "NOT_FOUND",
                  "TODO_NOT_FOUND",
                  "USER_NOT_FOUND",
                  "CONFLICT",
                  "EMAIL_EXISTS",
                  "ALREADY_DELETED",
                  "TOO_MANY_REQUESTS",
                  "INTERNAL_ERROR"
                ]
              },
              "message": {
                "type": "string",
                "description": "에러 메시지"
              }
            }
          }
        }
      }
    },
    "responses": {
      "BadRequest": {
        "description": "잘못된 요청",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            },
            "example": {
              "success": false,
              "error": {
                "code": "BAD_REQUEST",
                "message": "잘못된 요청입니다"
              }
            }
          }
        }
      },
      "Unauthorized": {
        "description": "인증 실패",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            },
            "example": {
              "success": false,
              "error": {
                "code": "UNAUTHORIZED",
                "message": "인증이 필요합니다"
              }
            }
          }
        }
      },
      "Forbidden": {
        "description": "권한 없음",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            },
            "example": {
              "success": false,
              "error": {
                "code": "FORBIDDEN",
                "message": "해당 리소스에 접근할 권한이 없습니다"
              }
            }
          }
        }
      },
      "AdminRequired": {
        "description": "관리자 권한 필요",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            },
            "example": {
              "success": false,
              "error": {
                "code": "ADMIN_REQUIRED",
                "message": "관리자 권한이 필요합니다"
              }
            }
          }
        }
      },
      "NotFound": {
        "description": "리소스를 찾을 수 없음",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            },
            "example": {
              "success": false,
              "error": {
                "code": "NOT_FOUND",
                "message": "요청한 리소스를 찾을 수 없습니다"
              }
            }
          }
        }
      }
    }
  }
}
